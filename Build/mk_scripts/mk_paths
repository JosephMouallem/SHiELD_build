#!/bin/bash
#***********************************************************************
#*                   GNU Lesser General Public License
#*
#* This file is part of the SHiELD Build System.
#*
#* The SHiELD Build System free software: you can redistribute it
#* and/or modify it under the terms of the
#* GNU Lesser General Public License as published by the
#* Free Software Foundation, either version 3 of the License, or
#* (at your option) any later version.
#*
#* The SHiELD Build System distributed in the hope that it will be
#* useful, but WITHOUT ANYWARRANTY; without even the implied warranty
#* of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
#* See the GNU General Public License for more details.
#*
#* You should have received a copy of the GNU Lesser General Public
#* License along with theSHiELD Build System
#* If not, see <http://www.gnu.org/licenses/>.
#***********************************************************************
#
#  DISCLAIMER: This script is provided as-is and as such is unsupported.
#

CONFIG="shield"
HYDRO="nh"
COMP="prod"
BIT="32bit"
COMPILER="intel"

#
## parse arguments
for arg in "$@"
do
    case $arg in
        shield|solo)
        CONFIG="${arg#*=}"
        shift # Remove CONFIG from processing
        ;;
        nh|hydro|sw)
        HYDRO="${arg#*=}"
        shift # remove "hydro" from processing
        ;;
        prod|repro|debug)
        COMP="${arg#*=}"
        shift # remove "comp" from processing
        ;;
        32bit|64bit)
        BIT="${arg#*=}"
        shift # remove "bit" from processing
        ;;
        intel|gnu|nvhpc)
        COMPILER="${arg#*=}"
        shift # Remove COMPILER from processing
        ;;
        *)
        exit 99
        ;;
    esac
done

echo $PATH

pushd ${SHiELD_SRC}

if [ ${CONFIG} = 'solo' ] ; then
  list_paths -o ${BUILD_ROOT}/Build/exec/${CONFIG}_${HYDRO}.${COMP}.${BIT}.${COMPILER}/pathnames_fv3 \
      GFDL_atmos_cubed_sphere/driver/solo/ \
      GFDL_atmos_cubed_sphere/tools/ \
      GFDL_atmos_cubed_sphere/model/ \
      atmos_drivers/solo/

elif [ ${CONFIG} = 'shield' ] ; then
  list_paths -o ${BUILD_ROOT}/Build/exec/${CONFIG}_${HYDRO}.${COMP}.${BIT}.${COMPILER}/pathnames_gfs \
      GFDL_atmos_cubed_sphere/model/gfdl_cld_mp.F90 \
      GFDL_atmos_cubed_sphere/model/cld_eff_rad.F90 \
      SHiELD_physics/gsmphys/  \
      SHiELD_physics/GFS_layer/ \
      SHiELD_physics/IPD_layer/

  list_paths -o ${BUILD_ROOT}/Build/exec/${CONFIG}_${HYDRO}.${COMP}.${BIT}.${COMPILER}/pathnames_fv3 \
      SHiELD_physics/FV3GFS/ \
      atmos_drivers/SHiELD/atmos_model.F90 \
      FMSCoupler/full/ \
      GFDL_atmos_cubed_sphere/driver/SHiELD/atmosphere.F90 \
      GFDL_atmos_cubed_sphere/tools/ \
      GFDL_atmos_cubed_sphere/model/ \
      GFDL_atmos_cubed_sphere/GFDL_tools/fv_diag_column.F90 \
      ocean_null/ \
      ice_null/ \
      land_null/
+#
+# Not sure if ideally we need to create seperate pathnames for null drivers
+




#  list_paths -o ${BUILD_ROOT}/Build/exec/${CONFIG}_${HYDRO}.${COMP}.${BIT}.${COMPILER}/pathnames_fv3 \
#      SHiELD_physics/FV3GFS/ \
#      atmos_drivers/SHiELD/atmos_model.F90 \
#      FMSCoupler/full/ \
#      GFDL_atmos_cubed_sphere/driver/SHiELD/atmosphere.F90 \
#      GFDL_atmos_cubed_sphere/tools/ \
#      GFDL_atmos_cubed_sphere/model/ \
#      GFDL_atmos_cubed_sphere/GFDL_tools/fv_diag_column.F90 \
#      ice_sis/ \
#      ice_param/ \
#      atmos_drivers/SHiELD/land_model.F90 
#
# update this
#  list_paths -o ${BUILD_ROOT}/Build/exec/${CONFIG}_${HYDRO}.${COMP}.${BIT}.${COMPILER}/pathnames_mom6 \
#      MOM6/config_src/{infra/FMS2,memory/dynamic_symmetric,drivers/FMS_cap} \
#      MOM6/config_src/external/{database_comms,drifters,ODA_hooks,stochastic_physics} \
#      MOM6/src/{*,*/*} \
#      MOM6/pkg/GSW-Fortran/{modules,toolbox}/ \
#      MOM6/pkg/CVMix-src/{src,src/drivers,src/shared}/
#
#      MOM6/config_src/infra/FMS2/ \
#      MOM6/config_src/dynamic_symmetric/ \
#      MOM6/config_src/drivers/FMS_cap/ \
#      MOM6/config_src/external/database_comms/ \
#      MOM6/config_src/external/drifters/ \
#      MOM6/config_src/external/ODA_hooks/ \
#      MOM6/config_src/external/stochastic_physics/ \
#      MOM6/src/ \
#      MOM6/pkg/GSW-Fortran/modules/ \
#      MOM6/pkg/GSW-Fortran/toolbox/ \
#      MOM6/pkg/CVMix-src/src/ \
#      MOM6/pkg/CVMix-src/src/drivers/ \
#      MOM6/pkg/CVMix-src/src/shared/ \
#


#  list_paths -o ${BUILD_ROOT}/Build/exec/${CONFIG}_${HYDRO}.${COMP}.${BIT}.${COMPILER}/pathnames_ice \
#      ice_sis/ \
#      ice_param/
#
#  list_paths -o ${BUILD_ROOT}/Build/exec/${CONFIG}_${HYDRO}.${COMP}.${BIT}.${COMPILER}/pathnames_land \
#      atmos_drivers/SHiELD/land_model.F90 
fi

popd

exit 0
